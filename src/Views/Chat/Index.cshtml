@{
    ViewData["Title"] = "Chat";
}

<div class="row justify-content-center">
    <div class="col-md-8">
        <h2 class="mb-4"><i class="bi bi-chat-dots"></i> AI Chat Assistant</h2>

        <div class="card mb-3">
            <div class="card-body">
                <label for="chatHistory" class="form-label fw-bold">Conversation</label>
                <textarea id="chatHistory" class="form-control" rows="12" readonly>@if (ViewBag.UserMessage != null)
{@($"You: {ViewBag.UserMessage}\n\nAssistant: {ViewBag.AiResponse}")}</textarea>
            </div>
        </div>

        @if (ViewBag.Error != null)
        {
            <div class="alert alert-danger" role="alert">
                @ViewBag.Error
            </div>
        }

        <form asp-controller="Chat" asp-action="Send" method="post">
            <div class="input-group">
                <input type="text" name="message" class="form-control" placeholder="Type your message..."
                       value="" autocomplete="off" required />
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-send"></i> Send
                </button>
            </div>
        </form>
    </div>
</div>
